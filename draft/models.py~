from django.db import models
from stats.models import Player
from league.models import League, GeneralManager

class Draft(models.Model):
    league = models.ForeignKey(League)
    current_round = models.PositiveIntegerField()
    picks = models.ManyToManyField(Player, through="Pick")
    drafters = models.ManyToManyField(GeneralManager, through="DraftOrder")

class DraftOrder(models.Model):
    draft = models.ForeignKey(Draft)
    gm = models.ForeignKey(GeneralManager)
    num = models.PositiveSmallIntegerField()
    
class Pick(models.Model):
    num = models.PositiveSmallIntegerField()
    draft_round = models.PositiveSmallIntegerField()
    draft = models.ForeignKey(Draft)
    player = models.ForeignKey(Player)
    gm = models.ForeignKey(GeneralManager)
